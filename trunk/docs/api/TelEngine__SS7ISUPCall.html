<HTML>
<HEAD>
<TITLE>class SS7ISUPCall</TITLE>

<META NAME="Generator" CONTENT="KDOC ">
</HEAD>
<BODY bgcolor="#ffffff" text="#000000" link="#0000ff" vlink="#000099" alink= "#ffffff">
<TABLE WIDTH="100%" BORDER="0">
<TR>
<TD>
	<TABLE BORDER="0">
		<TR><TD valign="top" align="left" cellspacing="10">
		<h1>class SS7ISUPCall</h1>
		</TD>
		<TD valign="top" align="right" colspan="1">An SS7 ISUP call. <small><A HREF="#longdesc">More...</A></small></TD></TR>
	</TABLE>
	<HR>
	<TABLE BORDER="0">
		<TR><TH>Full name</TH><TD><code><A HREF="TelEngine.html">TelEngine</A>::SS7ISUPCall</code></TD></TR>
<TR><TH>Definition</TH><TD><code>#include &lt;<A HREF="libs___ysig___yatesig_h.html">libs/ysig/yatesig.h</A>&gt;</code></TD></TR>
<TR><TH>Inherits</TH><TD><i><A HREF="TelEngine__SignallingCall.html">TelEngine::SignallingCall</A></i> <small>[public ]</small></TD></TR>
<TR><TH><A HREF="full-list-TelEngine__SS7ISUPCall.html">List of all Methods</A></TH></TR>
	</TABLE>
	</TD>
<TD align="right"><TABLE BORDER="0"><TR><TD><small><A HREF="index-long.html">Annotated List</A></small></TD></TR>
<TR><TD><small><A HREF="header-list.html">Files</A></small></TD></TR>
<TR><TD><small><A HREF="all-globals.html">Globals</A></small></TD></TR>
<TR><TD><small><A HREF="hier.html">Hierarchy</A></small></TD></TR>
<TR><TD><small><A HREF="index.html">Index</A></small></TD></TR>
</TABLE></TD></TR></TABLE>
<h4>Public Types</h4><ul><LI>enum <A HREF="#ref2">State</A> {	Null      = 0,                   
	Setup     = 1,                   
	Accepted  = 2,                   
	Ringing   = 3,                   
	Answered  = 4,                   
	Releasing = 5,                   
	Released  = 6                    
    }
</LI>
</ul><h4>Public Methods</h4><ul><LI>virtual  &nbsp;<b><A HREF="#ref3">~SS7ISUPCall</A></b> () 
</LI>
<LI>inline State &nbsp;<b><A HREF="#ref4">state</A></b> ()  const
</LI>
<LI>inline const String& &nbsp;<b><A HREF="#ref5">cicRange</A></b> ()  const
</LI>
<LI>inline unsigned int &nbsp;<b><A HREF="#ref6">id</A></b> ()  const
</LI>
<LI>virtual  SignallingEvent* &nbsp;<b><A HREF="#ref7">getEvent</A></b> (const Time& when) 
</LI>
<LI>virtual  bool &nbsp;<b><A HREF="#ref8">sendEvent</A></b> (SignallingEvent* event) 
</LI>
<LI>inline void &nbsp;<b><A HREF="#ref9">setTerminate</A></b> (bool gracefully, const char* reason = 0) 
</LI>
<LI>virtual  void* &nbsp;<b><A HREF="#ref10">getObject</A></b> (const String& name)  const
</LI>
</ul><h4>Protected Methods</h4><ul><LI>&nbsp;<b><A HREF="#ref11">SS7ISUPCall</A></b> (SS7ISUP* controller, SignallingCircuit* cic,
	const SS7PointCode& local, const SS7PointCode& remote, bool outgoing,
	int sls = -1, const char* range = 0) 
</LI>
<LI>SignallingEvent* &nbsp;<b><A HREF="#ref12">releaseComplete</A></b> (bool final, SS7MsgISUP* msg = 0, const char* reason = 0) 
</LI>
<LI>bool &nbsp;<b><A HREF="#ref13">replaceCircuit</A></b> (SignallingCircuit* circuit) 
</LI>
<LI>void &nbsp;<b><A HREF="#ref14">stopWaitSegment</A></b> (bool discard) 
</LI>
</ul><HR><H2><A NAME="longdesc">Detailed Description</A></H2><p>
 A signalling call using SS7 ISUP protocol
</p>
<A NAME="State"></A><A NAME="ref2"></A><table width="100%"><tr bgcolor="#eeeeee"><td>enum <strong>State</strong> {	Null      = 0,                   
	Setup     = 1,                   
	Accepted  = 2,                   
	Ringing   = 3,                   
	Answered  = 4,                   
	Releasing = 5,                   
	Released  = 6                    
    }
</td><td align="right"><h3><strong>State</strong></h3></td></tr></table><p></p><p>
 Call state enumerators
     </p>
<A NAME="~SS7ISUPCall"></A><A NAME="ref3"></A><table width="100%"><tr bgcolor="#eeeeee"><td> &nbsp;<strong>~SS7ISUPCall</strong> ()
<br></td><td align="right"><h3><strong>~SS7ISUPCall</strong></h3></td></tr></table><p> <small>[virtual]</small></p><p>
 Destructor.
 Complete call release. Releas circuit. Remove itself from controller's list
     </p>
<A NAME="state"></A><A NAME="ref4"></A><table width="100%"><tr bgcolor="#eeeeee"><td>inline State &nbsp;<strong>state</strong> ()
<br></td><td align="right"><h3><strong>state</strong></h3></td></tr></table><p> <small>[const]</small></p><p>
 Get the call state
</p>
<p><b>Returns</b>: The call state as enumeration
     </p>
<A NAME="cicRange"></A><A NAME="ref5"></A><table width="100%"><tr bgcolor="#eeeeee"><td>inline const String& &nbsp;<strong>cicRange</strong> ()
<br></td><td align="right"><h3><strong>cicRange</strong></h3></td></tr></table><p> <small>[const]</small></p><p>
 Get the call's circuit range
</p>
<p><b>Returns</b>: The call's circuit range
     </p>
<A NAME="id"></A><A NAME="ref6"></A><table width="100%"><tr bgcolor="#eeeeee"><td>inline unsigned int &nbsp;<strong>id</strong> ()
<br></td><td align="right"><h3><strong>id</strong></h3></td></tr></table><p> <small>[const]</small></p><p>
 Get the call id (the code of the circuit reserved for this call)
</p>
<p><b>Returns</b>: The call id
     </p>
<A NAME="getEvent"></A><A NAME="ref7"></A><table width="100%"><tr bgcolor="#eeeeee"><td> SignallingEvent* &nbsp;<strong>getEvent</strong> (const Time& when)
<br></td><td align="right"><h3><strong>getEvent</strong></h3></td></tr></table><p> <small>[virtual]</small></p><p>
 Get an event from this call
 This method is thread safe
</p>
<p><b>Parameters</b>:<TABLE BORDER="0" CELLPADDING="5">
<TR><TD align="left" valign="top"><i>when</i></TD><TD align="left" valign="top">The current time
</TD></TR>
</TABLE></P>
<p><b>Returns</b>: SignallingEvent pointer or 0 if no events
     </p>
<p>Reimplemented from <A HREF="TelEngine__SignallingCall.html#getEvent">SignallingCall</A>.</p>
<A NAME="sendEvent"></A><A NAME="ref8"></A><table width="100%"><tr bgcolor="#eeeeee"><td> bool &nbsp;<strong>sendEvent</strong> (SignallingEvent* event)
<br></td><td align="right"><h3><strong>sendEvent</strong></h3></td></tr></table><p> <small>[virtual]</small></p><p>
 Send an event to this call
</p>
<p><b>Parameters</b>:<TABLE BORDER="0" CELLPADDING="5">
<TR><TD align="left" valign="top"><i>event</i></TD><TD align="left" valign="top">The event to send
</TD></TR>
</TABLE></P>
<p><b>Returns</b>: True if the operation succedded
     </p>
<p>Reimplemented from <A HREF="TelEngine__SignallingCall.html#sendEvent">SignallingCall</A>.</p>
<A NAME="setTerminate"></A><A NAME="ref9"></A><table width="100%"><tr bgcolor="#eeeeee"><td>inline void &nbsp;<strong>setTerminate</strong> (bool gracefully, const char* reason = 0)
<br></td><td align="right"><h3><strong>setTerminate</strong></h3></td></tr></table><p></p><p>
 Set termination flag. Set termination reason if not already set
</p>
<p><b>Parameters</b>:<TABLE BORDER="0" CELLPADDING="5">
<TR><TD align="left" valign="top"><i>gracefully</i></TD><TD align="left" valign="top">True to send RLC on termination, false to destroy the call without notification
</TD></TR>
<TR><TD align="left" valign="top"><i>reason</i></TD><TD align="left" valign="top">Termination reason
     </TD></TR>
</TABLE></P>
<A NAME="getObject"></A><A NAME="ref10"></A><table width="100%"><tr bgcolor="#eeeeee"><td> void* &nbsp;<strong>getObject</strong> (const String& name)
<br></td><td align="right"><h3><strong>getObject</strong></h3></td></tr></table><p> <small>[const virtual]</small></p><p>
 Get a pointer to this object or other data
</p>
<p><b>Parameters</b>:<TABLE BORDER="0" CELLPADDING="5">
<TR><TD align="left" valign="top"><i>name</i></TD><TD align="left" valign="top">Object name
</TD></TR>
</TABLE></P>
<p><b>Returns</b>: The requested pointer or 0 if not exists
     </p>
<p>Reimplemented from <A HREF="TelEngine__GenObject.html#getObject">GenObject</A>.</p>
<A NAME="SS7ISUPCall"></A><A NAME="ref11"></A><table width="100%"><tr bgcolor="#eeeeee"><td>&nbsp;<strong>SS7ISUPCall</strong> (SS7ISUP* controller, SignallingCircuit* cic,
	const SS7PointCode& local, const SS7PointCode& remote, bool outgoing,
	int sls = -1, const char* range = 0)
<br></td><td align="right"><h3><strong>SS7ISUPCall</strong></h3></td></tr></table><p> <small>[protected]</small></p><p>
 Constructor
</p>
<p><b>Parameters</b>:<TABLE BORDER="0" CELLPADDING="5">
<TR><TD align="left" valign="top"><i>controller</i></TD><TD align="left" valign="top">The call controller
</TD></TR>
<TR><TD align="left" valign="top"><i>cic</i></TD><TD align="left" valign="top">The reserved circuit
</TD></TR>
<TR><TD align="left" valign="top"><i>local</i></TD><TD align="left" valign="top">The local point code used to create the routing label for sent messages
</TD></TR>
<TR><TD align="left" valign="top"><i>remote</i></TD><TD align="left" valign="top">The remote point code used to create the routing label for sent messages
</TD></TR>
<TR><TD align="left" valign="top"><i>outgoing</i></TD><TD align="left" valign="top">Call direction
</TD></TR>
<TR><TD align="left" valign="top"><i>sls</i></TD><TD align="left" valign="top">Optional link for the routing label
</TD></TR>
<TR><TD align="left" valign="top"><i>range</i></TD><TD align="left" valign="top">Optional range used to re-allocate a circuit for this call if necessary
     </TD></TR>
</TABLE></P>
<A NAME="releaseComplete"></A><A NAME="ref12"></A><table width="100%"><tr bgcolor="#eeeeee"><td>SignallingEvent* &nbsp;<strong>releaseComplete</strong> (bool final, SS7MsgISUP* msg = 0, const char* reason = 0)
<br></td><td align="right"><h3><strong>releaseComplete</strong></h3></td></tr></table><p> <small>[protected]</small></p><p>
 Release call. Stop timers. Send a RLC (Release Complete) message if it should terminate gracefully
 Decrease the object's refence count and generate a Release event if not final
 This method is thread safe
</p>
<p><b>Parameters</b>:<TABLE BORDER="0" CELLPADDING="5">
<TR><TD align="left" valign="top"><i>final</i></TD><TD align="left" valign="top">True if called from destructor
</TD></TR>
<TR><TD align="left" valign="top"><i>msg</i></TD><TD align="left" valign="top">Received message with parameters if any
</TD></TR>
<TR><TD align="left" valign="top"><i>reason</i></TD><TD align="left" valign="top">Optional release reason
</TD></TR>
</TABLE></P>
<p><b>Returns</b>: SignallingEvent pointer or 0
     </p>
<A NAME="replaceCircuit"></A><A NAME="ref13"></A><table width="100%"><tr bgcolor="#eeeeee"><td>bool &nbsp;<strong>replaceCircuit</strong> (SignallingCircuit* circuit)
<br></td><td align="right"><h3><strong>replaceCircuit</strong></h3></td></tr></table><p> <small>[protected]</small></p><p>
 Replace the circuit reserved for this call. Release the already reserved circuit.
 Retransmit the initial IAM request on success.
 On failure set the termination flag and release the new circuit if valid.
 If false is returned, the call is prepared to return a Release event.
 This method is thread safe
</p>
<p><b>Parameters</b>:<TABLE BORDER="0" CELLPADDING="5">
<TR><TD align="left" valign="top"><i>circuit</i></TD><TD align="left" valign="top">The new circuit reserved for this call
</TD></TR>
</TABLE></P>
<p><b>Returns</b>: False if the state is greater then Setup, the call is not outgoing or the new circuit is 0
     </p>
<A NAME="stopWaitSegment"></A><A NAME="ref14"></A><table width="100%"><tr bgcolor="#eeeeee"><td>void &nbsp;<strong>stopWaitSegment</strong> (bool discard)
<br></td><td align="right"><h3><strong>stopWaitSegment</strong></h3></td></tr></table><p> <small>[protected]</small></p><p>
 Stop waiting for a SGM (Segmentation) message when another message is received by the controller.
 This method is thread safe
</p>
<p><b>Parameters</b>:<TABLE BORDER="0" CELLPADDING="5">
<TR><TD align="left" valign="top"><i>discard</i></TD><TD align="left" valign="top">True to discard (destruct) the segment waiting message if any
     </TD></TR>
</TABLE></P>
<HR>
	<table>
	<tr><td><small>Generated by: root on dragoshel on Mon Aug  4 10:38:21 2008, using kdoc 2.0a54.</small></td></tr>
	</table>
</BODY>
</HTML>
